<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ—¥å¿«ä¹</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #ff9a9e, #fad0c4);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        .card {
            background: white;
            border-radius: 20px;
            padding: 40px 30px;
            max-width: 500px;
            width: 100%;
            text-align: center;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        h1 {
            color: #ff4081;
            font-size: 2.8rem;
            margin-bottom: 20px;
        }
        .name {
            font-size: 2rem;
            color: #ff6b6b;
            margin: 25px 0;
            padding: 15px;
            background: #fff5f5;
            border-radius: 15px;
            font-weight: bold;
        }
        .cake {
            font-size: 5rem;
            margin: 30px 0;
            animation: bounce 2s infinite;
        }
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-25px); }
        }
        .message {
            font-size: 1.3rem;
            line-height: 1.7;
            color: #555;
            margin: 30px 0;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 15px;
            text-align: left;
        }
        .controls {
            margin: 25px 0;
        }
        .btn {
            background: linear-gradient(45deg, #ff4081, #ff6b6b);
            color: white;
            border: none;
            padding: 16px 35px;
            border-radius: 50px;
            font-size: 1.2rem;
            cursor: pointer;
            margin: 10px;
            font-weight: bold;
            box-shadow: 0 8px 20px rgba(255, 64, 129, 0.3);
            transition: all 0.3s;
        }
        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(255, 64, 129, 0.4);
        }
        .footer {
            margin-top: 30px;
            color: #888;
            font-size: 1rem;
        }
        .heart {
            color: #ff4081;
            animation: heartbeat 1.5s infinite;
        }
        @keyframes heartbeat {
            0% { transform: scale(1); }
            15% { transform: scale(1.3); }
            30% { transform: scale(1.1); }
            45% { transform: scale(1.4); }
            100% { transform: scale(1); }
        }
        @media (max-width: 480px) {
            h1 { font-size: 2.2rem; }
            .name { font-size: 1.6rem; padding: 12px; }
            .cake { font-size: 4rem; }
            .message { font-size: 1.1rem; padding: 20px; }
            .btn { padding: 14px 28px; font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <div class="card">
        <h1>ğŸ‚ ç”Ÿæ—¥å¿«ä¹ï¼ ğŸ‰</h1>
        <div class="name" id="birthdayName">äº²çˆ±çš„æœ‹å‹</div>
        
        <div class="cake" id="cake">ğŸ‚</div>
        
        <div class="message" id="message">
            åœ¨è¿™ç‰¹åˆ«çš„æ—¥å­é‡Œï¼Œæ„¿æ‰€æœ‰çš„å¿«ä¹ã€æ‰€æœ‰çš„å¹¸ç¦ã€æ‰€æœ‰çš„æ¸©é¦¨ã€æ‰€æœ‰çš„å¥½è¿éƒ½å›´ç»•åœ¨ä½ èº«è¾¹ã€‚ç¥ä½ ç”Ÿæ—¥å¿«ä¹ï¼Œå¥åº·å¹¸ç¦ï¼
        </div>
        
        <div class="controls">
            <button class="btn" onclick="showConfetti()">ğŸ‰ åº†ç¥ä¸€ä¸‹</button>
            <button class="btn" onclick="playMusic()">ğŸµ ç”Ÿæ—¥éŸ³ä¹</button>
        </div>
        
        <div class="footer">
            <p>ç”¨ <span class="heart">â¤</span> åˆ¶ä½œçš„ç”Ÿæ—¥ç¥ç¦ | é€šè¿‡ Vercel éƒ¨ç½²</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">è®¿é—® https://ä½ çš„é“¾æ¥.vercel.app/?name=åå­— ä¸ªæ€§åŒ–ç¥ç¦</p>
        </div>
    </div>
    
    <script>
        // ä»URLè·å–åå­—
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name');
        
        if (name) {
            document.getElementById('birthdayName').textContent = name;
            
            // æ›´æ–°ç¥ç¦è¯­
            const messages = [
                `äº²çˆ±çš„${name}ï¼Œç¥ä½ ç”Ÿæ—¥å¿«ä¹ï¼æ„¿ä½ çš„æ¯ä¸€å¤©éƒ½å……æ»¡é˜³å…‰å’Œæ¬¢ç¬‘ã€‚`,
                `ç¥${name}ç”Ÿæ—¥å¿«ä¹ï¼æ„¿æœªæ¥çš„æ—¥å­æ¯”è¿‡å»æ›´åŠ ç¾å¥½ã€‚`,
                `${name}ï¼Œç”Ÿæ—¥å¿«ä¹ï¼æ„¿å¥åº·ã€å¿«ä¹ã€å¹³å®‰æ°¸è¿œé™ªä¼´ä½ ã€‚`,
                `ç¥ç¦${name}ç”Ÿæ—¥å¿«ä¹ï¼æ„¿ä½ çš„ç”Ÿæ´»åƒè›‹ç³•ä¸€æ ·ç”œèœœã€‚`
            ];
            
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            document.getElementById('message').textContent = randomMsg;
        }
        
        // è›‹ç³•åŠ¨ç”»
        let cakeIndex = 0;
        const cakeSymbols = ['ğŸ‚', 'ğŸ', 'ğŸˆ', 'ğŸ‰', 'âœ¨'];
        
        setInterval(() => {
            cakeIndex = (cakeIndex + 1) % cakeSymbols.length;
            document.getElementById('cake').textContent = cakeSymbols[cakeIndex];
        }, 1000);
        
        // åº†ç¥æ•ˆæœ
        function showConfetti() {
            // åˆ›å»ºå½©å±‘å…ƒç´ 
            for (let i = 0; i < 100; i++) {
                createConfettiPiece();
            }
            
            // éœ‡åŠ¨åé¦ˆï¼ˆå¦‚æœæ”¯æŒï¼‰
            if (navigator.vibrate) {
                navigator.vibrate([100, 50, 100]);
            }
        }
        
        function createConfettiPiece() {
            const confetti = document.createElement('div');
            confetti.style.position = 'fixed';
            confetti.style.width = '10px';
            confetti.style.height = '10px';
            confetti.style.backgroundColor = getRandomColor();
            confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
            confetti.style.top = '-10px';
            confetti.style.left = Math.random() * 100 + 'vw';
            confetti.style.zIndex = '9999';
            confetti.style.pointerEvents = 'none';
            
            document.body.appendChild(confetti);
            
            // åŠ¨ç”»
            const animation = confetti.animate([
                { transform: 'translateY(0) rotate(0deg)', opacity: 1 },
                { transform: `translateY(${window.innerHeight}px) rotate(${Math.random() * 360}deg)`, opacity: 0 }
            ], {
                duration: 2000 + Math.random() * 2000,
                easing: 'cubic-bezier(0.215, 0.61, 0.355, 1)'
            });
            
            animation.onfinish = () => {
                confetti.remove();
            };
        }
        
        function getRandomColor() {
            const colors = ['#ff4081', '#36d1dc', '#5b86e5', '#ff9966', '#7bff8d', '#ffde59'];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        // éŸ³ä¹æ’­æ”¾
        function playMusic() {
            try {
                // ç®€å•çš„ç”Ÿæ—¥å¿«ä¹æ—‹å¾‹
                const ctx = new (window.AudioContext || window.webkitAudioContext)();
                const notes = [262, 262, 294, 262, 349, 330]; // C4, C4, D4, C4, F4, E4
                const durations = [0.5, 0.5, 1, 1, 1, 2];
                
                let time = ctx.currentTime;
                
                for (let i = 0; i < notes.length; i++) {
                    const oscillator = ctx.createOscillator();
                    const gainNode = ctx.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(ctx.destination);
                    
                    oscillator.frequency.value = notes[i];
                    oscillator.type = 'sine';
                    
                    gainNode.gain.setValueAtTime(0, time);
                    gainNode.gain.linearRampToValueAtTime(0.2, time + 0.05);
                    gainNode.gain.exponentialRampToValueAtTime(0.001, time + durations[i]);
                    
                    oscillator.start(time);
                    oscillator.stop(time + durations[i]);
                    
                    time += durations[i];
                }
                
                alert('ğŸµ æ­£åœ¨æ’­æ”¾ç”Ÿæ—¥å¿«ä¹æ­Œï¼');
            } catch (e) {
                alert('ğŸµ ç”Ÿæ—¥å¿«ä¹ï¼\n\nï¼ˆå¦‚æœå¬åˆ°éŸ³ä¹ï¼Œè¯´æ˜æ’­æ”¾æˆåŠŸï¼‰');
            }
        }
        
        console.log('ç”Ÿæ—¥å¿«ä¹é¡µé¢å·²åŠ è½½ï¼è®¿é—®é“¾æ¥ï¼š' + window.location.href);
    </script>
</body>
</html>